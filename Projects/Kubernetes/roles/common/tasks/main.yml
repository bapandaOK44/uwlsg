---

- name: Wait for all servers to be reachable.
  wait_for_connection:
    delay: 3
    sleep: 2
    timeout: 90

- name: Gather facts
  setup:

- name: Install Aptitude
  apt:
    name: "{{item}}"
    state: latest
  loop:
    - aptitude

- name: Update package cache
  apt:
    autoremove: yes
    update_cache: yes
    upgrade: yes

- name: Install packages
  apt:
    name: "{{item}}"
    state: latest
  loop:
    - python3-pip

